<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Toqpoint</title>
    <link rel="stylesheet" href="style.css">
    <style>
        /* Стили для вкладок */
        .tabs {
            display: flex;
            border-bottom: 2px solid #ccc;
            margin-bottom: 20px;
        }
        .tab {
            padding: 10px 20px;
            cursor: pointer;
            border: 1px solid #ccc;
            border-bottom: none;
            background-color: #f9f9f9;
        }
        .tab.active {
            background-color: #fff;
            font-weight: bold;
            border-top: 2px solid #333;
        }
        .tab-content {
            display: none;
        }
        .tab-content.active {
            display: block;
        }

        /* Контакты в шапке */
        .header-contacts {
            position: absolute;
            top: 10px;
            right: 20px;
            text-align: right;
        }
        .header-contacts a {
            display: block;
            color: white; /* Белый цвет контактов */
            text-decoration: none;
            margin: 5px 0;
        }

        /* Кнопка "Узнать больше" */
        .btn {
            display: inline-block;
            margin-top: 20px;
            padding: 10px 20px;
            background-color: #007bff;
            color: white;
            text-decoration: none;
            border-radius: 5px;
        }
        .btn:hover {
            background-color: #0056b3;
        }

        /* Стили для карты */
        #map {
            height: 500px;
            width: 100%;
            margin-top: 20px;
        }

        /* Адаптивные стили */
        @media (max-width: 768px) {
            .description {
                font-size: 14px;
                line-height: 1.5;
            }
            #map {
                height: 300px; /* Уменьшаем карту для мобильных устройств */
            }
        }
    </style>
    <!-- Подключаем библиотеку Leaflet для работы с картой -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
</head>
<body>
    <!-- Шапка -->
    <header class="header">
        <h1 class="title">Toqpoint</h1>
        <p class="subtitle">Toq bar - problem joq</p>
        <!-- Контакты в шапке -->
        <div class="header-contacts">
            <a href="mailto:info@toqpoint.kz">info@toqpoint.kz</a>
            <a href="tel:+77001234567">+7 (700) 123-45-67</a>
        </div>
    </header>

    <!-- Вкладки -->
    <div class="tabs">
        <div class="tab active" data-tab="home">Главная</div>
        <div class="tab" data-tab="about">О нас</div>
        <div class="tab" data-tab="links">Полезные ссылки</div>
        <div class="tab" data-tab="support">Поддержать автора</div>
    </div>

    <!-- Содержимое вкладок -->
    <div id="home" class="tab-content active">
        <main class="main-content">
            <p class="description">
                <strong>TOQPOINT</strong> — это больше, чем просто стартап. Это движение. Это шаг вперёд в сторону удобства, технологичности и заботы о людях.
            </p>
            <p class="description">
                Мы создали <strong>TOQPOINT</strong> с мыслью о каждом человеке — будь то студент, водитель, путешественник или просто прохожий.
            </p>
            <a href="https://www.youtube.com/watch?v=dQw4w9WgXcQ" class="btn" target="_blank">Узнать больше</a>
        </main>
    </div>

    <div id="about" class="tab-content">
        <h2>О нас</h2>
        <p class="description">
            <strong>TOQPOINT</strong> — это зарядные станции нового поколения, которые объединяют удобство, технологичность и доступность.
        </p>
    </div>

    <div id="links" class="tab-content">
        <h2>Местоположение Toqpoint</h2>
        <p>Вы можете отметить, где находится ваш Toqpoint, на карте ниже:</p>
        <div id="map"></div>
    </div>

    <div id="support" class="tab-content">
        <h2>Поддержать автора</h2>
        <p>Извините, это лишь школьный проект.</p>
    </div>

    <!-- Футер -->
    <footer class="footer">
        <p>2025 Toqpoint. Все права защищены.</p>
    </footer>

    <!-- Скрипт для работы вкладок и карты -->
    <script>
        // Вкладки
        const tabs = document.querySelectorAll('.tab');
        const contents = document.querySelectorAll('.tab-content');

        tabs.forEach(tab => {
            tab.addEventListener('click', () => {
                tabs.forEach(t => t.classList.remove('active'));
                contents.forEach(c => c.classList.remove('active'));
                tab.classList.add('active');
                document.getElementById(tab.dataset.tab).classList.add('active');
            });
        });

        // Карта Leaflet
        const map = L.map('map', {
            preferCanvas: true, // Используем Canvas для улучшения производительности
            maxBounds: [
                [-85, -180], // Границы карты (широта и долгота)
                [85, 180]
            ],
            maxBoundsViscosity: 1.0, // Вязкость (ограничивает плавное движение за пределы)
            worldCopyJump: false // Отключаем бесконечное повторение карты
        }).setView([51.1657, 10.4515], 5);

        L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
            attribution: '© OpenStreetMap contributors'
        }).addTo(map);

        map.on('click', function (e) {
            const marker = L.marker([e.latlng.lat, e.latlng.lng]).addTo(map);
            marker.bindPopup("Toqpoint здесь!<br><button class='delete-btn'>Удалить</button>").openPopup();

            marker.on('popupopen', function () {
                const deleteBtn = document.querySelector('.delete-btn');
                if (deleteBtn) {
                    deleteBtn.addEventListener('click', function () {
                        const currentUser = "muhazavr3"; // Ваш логин
                        if (currentUser === "muhazavr3") {
                            map.removeLayer(marker);
                        } else {
                            alert("Вы не можете удалить эту метку!");
                        }
                    });
                }
            });
        });
    </script>
</body>
</html>